{% extends "main/base.html" %}

{% block content%}
<div class="pane">
  <h2>Data Sets</h2>

  <div class="overview-row">
    <div class='overview-header overview-firstcol-border'>
      <div class='overview-header-inner-bold'>Key</div>
    </div>
    <div class='overview-header overview-firstcol-border'>
      <div class='overview-header-inner-bold'>Species</div>
    </div>
    <div class='overview-header overview-firstcol-border'>
      <div class='overview-header-inner-bold'>Owner</div>
    </div>
    <div class='overview-header'>
      <div class='overview-header-inner-bold'>Name</div>
    </div>
 <div class='overview-header'>
      <div class='overview-header-inner-bold'>Created</div>
    </div>
    <div class='overview-header'>
      <div class='overview-header-inner-bold'>Last modified</div>
    </div>
    <div class='overview-header'>
      <div class='overview-header-inner-bold'>Description</div>
    </div>
    <div class='overview-header'>
      <div class='overview-header-inner-bold'>Number of samples</div>
    </div>
    <div class='overview-header'>
      <div class='overview-header-inner-bold'>Actions</div>
    </div>
  </div>
  {% for dataset in datasets %}
  <div class="row">
    <div class='overview-datacolumn'>
      {{ dataset.pk }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.get_species_display }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.owner }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.name }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.created_at }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.modified_at }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.description }}
    </div>
    <div class='overview-datacolumn'>
      {{ dataset.mongo_ids|length }}
    </div>
    <div class='overview-datacolumn'>
      <span class="rspace"><a href="{% url 'sample_list' dataset.pk %}">List</a></span>
      <span class="rspace">View</span>
      <span class="rspace">Copy</span>
      {% if dataset.owner.username == request.user.username %}<span class="rspace">Edit</span>{% endif %}
    </div>
  </div>
{% endfor %}
</div
{% endblock %}